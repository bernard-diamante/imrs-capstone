{% extends 'base.html' %} {% load tailwind_filters %} {% load static %} 

<!--  -->

{% block content %}

<h2 class="font-bold text-4xl pb-10">Material Requests</h2>

<!-- IF STATEMENT to check if user is MO or SE -->
<div class="flex space-x-5">
  <div class="w-full">
  <table
    id="table"
    class="overflow-hidden rounded-lg shadow-lg"
    style="width:100%;"
  >
    <thead class="bg-slate-100 text-gray-600">
      <tr>
        <th class="w-2/12 font-medium">Req. ID</th>
        <th class="font-medium">Destination</th>
        <th class="font-medium">Needed By</th>
        <th class="font-medium">Status</th>
      </tr>
    </thead>
    <tbody class="text-center">
      {% for request in requisition %}
      <tr
        data-href="{% url 'requisition:detail-requisition' request.pk %}"
        class="row-href cursor-pointer bg-white hover:bg-slate-200 even:bg-slate-100 even:hover:bg-slate-200 ease-in duration-100"
      >
        <td class="p-2">{{ request.requisition }}</td>
        <td class="p-2">{{ request.site }}</td>
        <td class="p-2">{{ request.reqDateNeeded }}</td>
        <td class="p-2">{{ request.get_reqStatus_display }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  </div>
  <div id="page-button" class="ml-auto">
    {% if request.user.role == 3 %}
      <a href="{% url 'requisition:add-requisition' %}" class="mx-auto flex justify-center h-full w-full text-white bg-indigo-500 border-0 px-3 py-1 focus:outline-none hover:bg-indigo-600 rounded-lg ease-in duration-100">
          Make a Request
      </a>
    {% endif %}
  </div>
</div>

<script src="{% static 'js/table.js' %}"></script>

{% endblock %}
